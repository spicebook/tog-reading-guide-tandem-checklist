<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tandem Checklist — SpiceBook</title>

<!-- EB Garamond -->
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --eos: #C2052B;
    --tod: #FD9683;
}

body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: #FED5D3;
    margin: 0;
    padding-bottom: 110px;
    color: #C2052B;
}

header {
    padding: 20px 10px 5px;
    text-align: center;
    font-family: "EB Garamond", serif;
    font-size: 26px;
    font-weight: 700;
    -webkit-text-stroke: 0.5px #C2052B;
}

.description {
    text-align: center;
    max-width: 600px;
    margin: 0 auto 15px;
    padding: 0 15px;
    font-size: 15px;
    color: #C2052B;
}

/* PROGRESS BAR */
#progressContainer {
    width: 90%;
    max-width: 600px;
    margin: 0 auto 15px;
}

#progressBarBackground {
    width: 100%;
    height: 10px;
    background: white;
    border-radius: 6px;
}

#progressBar {
    height: 10px;
    background: #C2052B;
    width: 0%;
    border-radius: 6px;
}

#progressText {
    text-align: center;
    margin-top: 6px;
    font-size: 14px;
    font-weight: 600;
    color: #C2052B;
}

/* CLEAR PROGRESS BUTTON — TOP */
#clearButton {
    display: block;
    width: 90%;
    max-width: 600px;
    margin: 15px auto 15px;
    padding: 12px;
    background: #C2052B;
    color: white;
    font-size: 16px;
    font-weight: 600;
    text-align: center;
    border-radius: 8px;
    cursor: pointer;
    border: none;
}

/* LIST */
#list {
    padding: 10px;
    max-width: 600px;
    margin: 0 auto;
}

.chapter {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 14px;
    margin: 10px 6px;
    border-radius: 10px;
    background: white;
    border: 2px solid;
    font-size: 16px;
}

/* EoS red */
.chapter.eos {
    border-color: var(--eos);
    color: var(--eos);
}

/* ToD peach */
.chapter.tod {
    border-color: var(--tod);
    color: var(--tod);
}

/* STRIKE-THROUGH TEXT ONLY */
.chapter.completed .chapterText {
    text-decoration: line-through;
    opacity: 0.6;
}

/* CHECKBOX */
.chapter input[type="checkbox"] {
    -webkit-appearance: none;
    appearance: none;
    width: 28px;
    height: 28px;
    border-radius: 6px;
    background: white;
    display: grid;
    place-items: center;
    cursor: pointer;
    border-width: 2px;
    border-style: solid;
}

.chapter.eos input[type="checkbox"] {
    border-color: var(--eos);
    color: var(--eos);
}

.chapter.tod input[type="checkbox"] {
    border-color: var(--tod);
    color: var(--tod);
}

.chapter input[type="checkbox"]::after {
    content: "";
    font-size: 20px;
    font-weight: 700;
    line-height: 1;
}

.chapter input[type="checkbox"]:checked::after {
    content: "✕";
}

/* BACK BUTTON */
#backButton {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #C2052B;
    color: white;
    padding: 12px 18px;
    border-radius: 30px;
    font-size: 15px;
    font-weight: 600;
    text-decoration: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.25);
    z-index: 999;
}

/* SHARE ICONS */
.share-buttons {
    margin: 35px auto 10px;
    text-align: center;
    width: 100%;
}

.share-row {
    display: flex;
    justify-content: center;
    gap: 18px;
    margin-top: 12px;
}

.share-icon {
    width: 34px;
    height: 34px;
    cursor: pointer;
}

footer {
    text-align: center;
    padding: 40px 0 20px;
    font-size: 14px;
    color: #C2052B;
}

.logo {
    width: 150px;
    display: block;
    margin: 0 auto;
}
</style>
</head>

<body>
    <header>Empire of Storms +<br> Tower of Dawn <br>Tandem Read Checklist</header>

    <div class="description">
        Use this checklist when your reading order brings you to <i>Empire of Storms</i> and <i>Tower of Dawn</i>.
        These two books take place at the same time, so alternating chapters keeps the timeline in proper chronological order.
    </div>

<button id="clearButton">Clear All Progress</button>

<div id="progressContainer">
    <div id="progressBarBackground">
        <div id="progressBar"></div>
    </div>
    <div id="progressText">0% Complete</div>
</div>

<div id="list"></div>

<a id="backButton" href="reading-order.html">← Back to Reading Order</a>

<!-- SHARE ICON ROW -->
<div class="share-buttons">
    <div class="share-row">
        <img src="x-icon.svg" id="share-x" class="share-icon">
        <img src="facebook-icon.svg" id="share-facebook" class="share-icon">
        <img src="reddit-icon.svg" id="share-reddit" class="share-icon">
        <img src="pinterest-icon.svg" id="share-pinterest" class="share-icon">
        <img src="share-icon.svg" id="share-native" class="share-icon">
    </div>
</div>

<footer>
    Brought to you by
    <div style="margin-top:12px;">
        <img src="spicebook-logo-clean.svg" class="logo">
    </div>
</footer>


<script>
const chapters = [/* unchanged chapter list */];

const list = document.getElementById("list");

function updateProgress() {
    let checked = 0;
    for (let i = 0; i < chapters.length; i++) {
        if (localStorage.getItem("ch" + i) === "1") checked++;
    }
    const percent = Math.round((checked / chapters.length) * 100);
    document.getElementById("progressBar").style.width = percent + "%";
    document.getElementById("progressText").textContent = percent + "% Complete";
}

chapters.forEach((chapter, index) => {
    const wrapper = document.createElement("label");
    wrapper.className = "chapter " + (chapter.startsWith("Empire") ? "eos" : "tod");

    const checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.dataset.index = index;

    const textSpan = document.createElement("span");
    textSpan.className = "chapterText";
    textSpan.textContent = chapter;

    if (localStorage.getItem("ch" + index) === "1") {
        checkbox.checked = true;
        wrapper.classList.add("completed");
    }

    checkbox.addEventListener("change", () => {
        localStorage.setItem("ch" + index, checkbox.checked ? "1" : "0");
        if (checkbox.checked) wrapper.classList.add("completed");
        else wrapper.classList.remove("completed");
        updateProgress();
    });

    wrapper.appendChild(checkbox);
    wrapper.appendChild(textSpan);
    list.appendChild(wrapper);
});

updateProgress();

/* CLEAR WITH CONFIRM */
document.getElementById("clearButton").addEventListener("click", () => {
    if (!confirm("Are you sure you want to clear ALL progress?\nThis cannot be undone.")) return;
    for (let i = 0; i < chapters.length; i++) localStorage.removeItem("ch" + i);
    location.reload();
});

/* SHARE LINKS */
const url = encodeURIComponent(window.location.href);
const text = encodeURIComponent("Throne of Glass Reading Order Guide — SpiceBook");

document.getElementById("share-x").onclick = () =>
    window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`);

document.getElementById("share-facebook").onclick = () =>
    window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`);

document.getElementById("share-reddit").onclick = () =>
    window.open(`https://www.reddit.com/submit?url=${url}&title=${text}`);

document.getElementById("share-pinterest").onclick = () =>
    window.open(`https://pinterest.com/pin/create/button/?url=${url}&description=${text}`);

/* NATIVE SHARE */
document.getElementById("share-native").onclick = async () => {
    if (navigator.share) {
        await navigator.share({
            title: "SpiceBook — Throne of Glass Reading Order",
            text: "Check out this reading order guide!",
            url: window.location.href
        });
    } else {
        alert("Sharing not supported on this device.");
    }
};
</script>

</body>
</html>
